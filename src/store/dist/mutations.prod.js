"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _RECORD_ADDRESS$RECOR,_mutationTypes=require("./mutation-types.js"),_mUtils=require("../config/mUtils"),_env=require("../config/env");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _default=(_defineProperty(_RECORD_ADDRESS$RECOR={},_mutationTypes.RECORD_ADDRESS,function(e,t){var r=t.latitude,n=t.longitude;e.latitude=r,e.longitude=n}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.RECORD_SHOPDETAIL,function(e,t){e.shopDetail=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.ADD_CART,function(e,t){var r=t.shopid,n=t.category_id,o=t.item_id,i=t.food_id,_=t.name,R=t.price,a=t.specs,s=t.packing_fee,E=t.sku_id,u=t.stock,D=e.cartList,S=D[r]=D[r]||{},p=S[n]=S[n]||{},O=p[o]=p[o]||{};O[i]?O[i].num++:O[i]={num:1,id:i,name:_,price:R,specs:a,packing_fee:s,sku_id:E,stock:u},e.cartList=_objectSpread({},D),(0,_mUtils.setStore)("buyCart",e.cartList)}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.REDUCE_CART,function(e,t){var r=t.shopid,n=t.category_id,o=t.item_id,i=t.food_id,_=(t.name,t.price,t.specs,e.cartList),R=((_[r]||{})[n]||{})[o]||{};R&&R[i]&&(0<R[i].num?(R[i].num--,e.cartList=_objectSpread({},_),(0,_mUtils.setStore)("buyCart",e.cartList)):R[i]=null)}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.INIT_BUYCART,function(e){var t=(0,_mUtils.getStore)("buyCart");t&&(e.cartList=JSON.parse(t))}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.CLEAR_CART,function(e,t){e.cartList[t]=null,e.cartList=_objectSpread({},e.cartList),(0,_mUtils.setStore)("buyCart",e.cartList)}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.RECORD_USERINFO,function(e,t){e.userInfo=t,e.login=!0,(0,_mUtils.setStore)("user_id",t.user_id)}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.GET_USERINFO,function(e,t){e.userInfo&&e.userInfo.username!==t.username||e.login&&(t.message?e.userInfo=null:e.userInfo=_objectSpread({},t))}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.RETSET_NAME,function(e,t){e.userInfo=Object.assign({},e.userInfo,{username:t})}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.SAVE_SHOPID,function(e,t){e.shopid=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.CONFIRM_REMARK,function(e,t){var r=t.remarkText,n=t.inputText;e.remarkText=r,e.inputText=n}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.CONFIRM_INVOICE,function(e,t){e.invoice=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.CHOOSE_SEARCH_ADDRESS,function(e,t){e.searchAddress=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.SAVE_GEOHASH,function(e,t){e.geohash=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.CONFIRM_ADDRESS,function(e,t){e.newAddress.push(t)}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.CHOOSE_ADDRESS,function(e,t){var r=t.address,n=t.index;e.choosedAddress=r,e.addressIndex=n}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.NEED_VALIDATION,function(e,t){e.needValidation=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.SAVE_CART_ID_SIG,function(e,t){var r=t.cart_id,n=t.sig;e.cart_id=r,e.sig=n}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.SAVE_ORDER_PARAM,function(e,t){e.orderParam=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.CHANGE_ORDER_PARAM,function(e,t){e.orderParam=Object.assign({},e.orderParam,t)}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.ORDER_SUCCESS,function(e,t){e.cartPrice=null,e.orderMessage=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.SAVE_ORDER,function(e,t){e.orderDetail=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.OUT_LOGIN,function(e){e.userInfo={},e.login=!1}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.SAVE_AVANDER,function(e,t){e.imgPath=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.SAVE_ADDRESS,function(e,t){e.removeAddress=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.SAVE_ADDDETAIL,function(e,t){e.addAddress=t}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.SAVE_QUESTION,function(e,t){e.question=_objectSpread({},t)}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.ADD_ADDRESS,function(e,t){e.removeAddress=[t].concat(_toConsumableArray(e.removeAddress))}),_defineProperty(_RECORD_ADDRESS$RECOR,_mutationTypes.BUY_CART,function(e,t){e.cartPrice=t}),_RECORD_ADDRESS$RECOR);exports.default=_default;